{
    "swagger": "2.0",
    "info": {
        "description": "Trading Service API",
        "title": "Trading Service",
        "contact": {},
        "version": "1.0"
    },
    "paths": {
        "/actuaries": {
            "get": {
                "description": "Vraća listu svih zapisa aktuara iz baze podataka.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Actuaries"
                ],
                "summary": "Dobavljanje svih aktuara",
                "responses": {
                    "200": {
                        "description": "Uspešno dobavljeni svi aktuari",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/types.Actuary"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Greška u bazi",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            },
            "post": {
                "description": "Kreira novi aktuar na osnovu dostavljenih podataka.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Actuaries"
                ],
                "summary": "Kreiranje novog aktuara",
                "parameters": [
                    {
                        "description": "Podaci za kreiranje aktuara",
                        "name": "actuary",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.ActuaryDTO"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Uspešno kreiran aktuar",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/types.Actuary"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Neispravan format unosa ili poslati podaci nisu validni.",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Greska u bazi.",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/actuaries/agents": {
            "get": {
                "description": "Vraća listu svih aktuara iz baze čiji je departman \"AGENT\".",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Actuaries"
                ],
                "summary": "Dobavljanje aktuara koji su agenti",
                "responses": {
                    "200": {
                        "description": "Uspešno dobavljeni agenti",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/types.Actuary"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Greška u bazi",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/actuaries/filter": {
            "get": {
                "description": "Vraća listu aktuara filtriranu po imenu, prezimenu, email-u i/ili poziciji..",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Actuaries"
                ],
                "summary": "Filtriranje aktuara",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Filter po imenu (case-insensitive, partial match)",
                        "name": "name",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter po prezimenu (case-insensitive, partial match)",
                        "name": "surname",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter po email-u (case-insensitive, partial match)",
                        "name": "email",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Filter po poziciji (exact match from user-service)",
                        "name": "position",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno filtrirani aktuari",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/dto.FilteredActuaryDTO"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Greska pri preuzimanju aktuara.",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/actuaries/{ID}": {
            "get": {
                "description": "Vraća detalje jednog aktuara na osnovu njegovog ID-ja.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Actuaries"
                ],
                "summary": "Dobavljanje aktuara po ID-ju",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID aktuara",
                        "name": "ID",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno dobavljen aktuar",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/types.Actuary"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "Aktuar nije pronadjen",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Greška u bazi",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/actuaries/{id}": {
            "put": {
                "description": "Ažurira iznos limita za određeni aktuar prema ID-ju.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Actuaries"
                ],
                "summary": "Izmena limita aktuara",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID aktuara",
                        "name": "ID",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Podaci za ažuriranje limita",
                        "name": "updateData",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.UpdateActuaryDTO"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno ažurirani limiti aktuara",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/types.Actuary"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Neispravan format podataka",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "404": {
                        "description": "Aktuar nije pronadjen",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/exchanges": {
            "get": {
                "description": "Vraća listu svih berzi dostupnih u sistemu.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Exchanges"
                ],
                "summary": "Preuzimanje svih berzi",
                "responses": {
                    "200": {
                        "description": "Lista svih berzi",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/types.Exchange"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Interna greška servera pri preuzimanju berzi",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/exchanges/acronym/{acronym}": {
            "get": {
                "description": "Vraća detalje specifične berze na osnovu njenog akronima. Napomena: Akronim ne mora biti jedinstven. Vraća prvu pronađenu.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Exchanges"
                ],
                "summary": "Preuzimanje berze po akronimu",
                "parameters": [
                    {
                        "type": "string",
                        "example": "NASDAQ",
                        "description": "Akronim berze",
                        "name": "acronym",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalji pronađene berze",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/types.Exchange"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "Berza sa datim akronimom nije pronađena",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/exchanges/mic/{micCode}": {
            "get": {
                "description": "Vraća detalje specifične berze na osnovu njenog jedinstvenog MIC koda.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Exchanges"
                ],
                "summary": "Preuzimanje berze po MIC kodu",
                "parameters": [
                    {
                        "type": "string",
                        "example": "XNAS",
                        "description": "Market Identifier Code (MIC) berze",
                        "name": "micCode",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalji tražene berze",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/types.Exchange"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "Berza sa datim MIC kodom nije pronađena",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/exchanges/{id}": {
            "get": {
                "description": "Vraća detalje specifične berze na osnovu njenog internog ID-ja.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Exchanges"
                ],
                "summary": "Preuzimanje berze po ID-u",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID berze",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalji tražene berze",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/types.Exchange"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "Berza sa datim ID-jem nije pronađena",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/forex": {
            "get": {
                "description": "Vraća listu svih listinga koji predstavljaju forex valutne parove.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Forex"
                ],
                "summary": "Preuzimanje svih forex parova",
                "responses": {
                    "200": {
                        "description": "Lista svih forex parova",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/types.Listing"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Interna greška servera pri preuzimanju forex parova",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/forex/{base}/{quote}": {
            "get": {
                "description": "Vraća osnovne podatke (Listing) i detalje (ForexPair) za forex par specificiran osnovnom i kvotnom valutom.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Forex"
                ],
                "summary": "Preuzimanje forex para po valutama",
                "parameters": [
                    {
                        "type": "string",
                        "example": "EUR",
                        "description": "Osnovna valuta (ISO kod)",
                        "name": "base",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "example": "USD",
                        "description": "Kvotna valuta (ISO kod)",
                        "name": "quote",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalji forex para",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "object",
                                            "properties": {
                                                "details": {
                                                    "$ref": "#/definitions/types.ForexPair"
                                                },
                                                "listing": {
                                                    "$ref": "#/definitions/types.Listing"
                                                }
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "Forex par nije pronađen",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Interna greška servera pri preuzimanju detalja forex para",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/forex/{base}/{quote}/history": {
            "get": {
                "description": "Preuzima dnevne istorijske podatke za forex par u vremenskom opsegu.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Forex"
                ],
                "summary": "Istorijski podaci za forex par u vremenskom opsegu",
                "parameters": [
                    {
                        "type": "string",
                        "example": "EUR",
                        "description": "Osnovna valuta",
                        "name": "base",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "example": "USD",
                        "description": "Kvotna valuta",
                        "name": "quote",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "format": "date",
                        "example": "2023-09-27",
                        "description": "Početni datum (YYYY-MM-DD). Podrazumevano pre 30 dana.",
                        "name": "startDate",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "format": "date",
                        "example": "2023-10-27",
                        "description": "Krajnji datum (YYYY-MM-DD). Podrazumevano današnji dan.",
                        "name": "endDate",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista istorijskih podataka",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/types.ListingDailyPriceInfo"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Neispravan format datuma",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "404": {
                        "description": "Forex par nije pronađen",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Greška pri preuzimanju istorijskih podataka iz baze",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/forex/{base}/{quote}/history/{date}": {
            "get": {
                "description": "Preuzima snapshot forex para (cena, ask, bid) za tačno određeni dan.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Forex"
                ],
                "summary": "Povrat dnevnog snapshot-a za forex par",
                "parameters": [
                    {
                        "type": "string",
                        "example": "EUR",
                        "description": "Osnovna valuta",
                        "name": "base",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "example": "USD",
                        "description": "Kvotna valuta",
                        "name": "quote",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "format": "date",
                        "example": "2025-04-09",
                        "description": "Datum za koji se traži snapshot (YYYY-MM-DD)",
                        "name": "date",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Snapshot za taj dan",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/types.ListingHistory"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Neispravan format datuma",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "404": {
                        "description": "Forex par za traženi datum nije pronađen",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Greška pri preuzimanju podataka iz baze",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/future": {
            "get": {
                "description": "Vraća listu svih listinga koji predstavljaju future ugovore.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Futures"
                ],
                "summary": "Preuzimanje svih future-a",
                "responses": {
                    "200": {
                        "description": "Lista svih future-a",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/types.Listing"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Interna greška servera pri preuzimanju future-a",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/future/{ticker}": {
            "get": {
                "description": "Vraća osnovne podatke (Listing) i detalje (FuturesContract) za future specificiran tikerom.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Futures"
                ],
                "summary": "Preuzimanje future-a po tikeru",
                "parameters": [
                    {
                        "type": "string",
                        "example": "ESZ3",
                        "description": "Tiker (simbol) future-a",
                        "name": "ticker",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalji future-a",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "object",
                                            "properties": {
                                                "details": {
                                                    "$ref": "#/definitions/types.FuturesContract"
                                                },
                                                "listing": {
                                                    "$ref": "#/definitions/types.Listing"
                                                }
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "Future sa datim tikerom nije pronađen",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Interna greška servera pri preuzimanju detalja future-a",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/future/{ticker}/history": {
            "get": {
                "description": "Preuzima sve ili opsežne istorijske snapshot podatke za future ticker.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Futures"
                ],
                "summary": "Istorijski podaci za future",
                "parameters": [
                    {
                        "type": "string",
                        "example": "ESZ3",
                        "description": "Tiker future-a",
                        "name": "ticker",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "example": "2025-03-01",
                        "description": "Početni datum (YYYY-MM-DD)",
                        "name": "startDate",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "example": "2025-04-09",
                        "description": "Krajnji datum (YYYY-MM-DD), podrazumevano danas",
                        "name": "endDate",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Istorijski podaci za future",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/types.ListingHistory"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Neispravan format datuma",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "404": {
                        "description": "Nema istorijskih podataka",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Greška baze",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/future/{ticker}/history/{date}": {
            "get": {
                "description": "Preuzima snapshot (cenu, ask, bid...) za future ticker na tačno određeni dan.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Futures"
                ],
                "summary": "Povrat snapshot-a za future po datumu",
                "parameters": [
                    {
                        "type": "string",
                        "example": "ESZ3",
                        "description": "Tiker future-a",
                        "name": "ticker",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "format": "date",
                        "example": "2025-04-09",
                        "description": "Datum snapshot-a (YYYY-MM-DD)",
                        "name": "date",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Snapshot podaci za traženi datum",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/types.ListingHistory"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Neispravan format datuma",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "404": {
                        "description": "Podaci nisu pronađeni za dati future ticker i datum",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Greška baze",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/options/symbol/{symbol}": {
            "get": {
                "description": "Vraća listu osnovnih podataka (Listing) i detalje (Option) za sve opcije čiji tiker (simbol same opcije u `listings` tabeli) počinje specificiranim prefiksom (npr. \"AAPL25\" za sve AAPL opcije koje ističu 2025). Koristi LIKE pretragu.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Options"
                ],
                "summary": "Preuzimanje opcija po prefiksu simbola opcije",
                "parameters": [
                    {
                        "type": "string",
                        "example": "AAPL251219C",
                        "description": "Prefiks tikera (simbola) opcije",
                        "name": "symbol",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista opcija za dati prefiks simbola",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "object",
                                            "properties": {
                                                "details": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/definitions/types.Option"
                                                    }
                                                },
                                                "listing": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/definitions/types.Listing"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "Opcije čiji simbol počinje datim prefiksom nisu pronađene",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Interna greška servera pri preuzimanju detalja opcije",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/options/ticker/{ticker}": {
            "get": {
                "description": "Vraća listu osnovnih podataka (Listing) i detalje (Option) za sve opcije koje imaju specificirani tačan osnovni tiker (npr. AAPL).",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Options"
                ],
                "summary": "Preuzimanje opcija po tačnom osnovnom tikeru",
                "parameters": [
                    {
                        "type": "string",
                        "example": "AAPL",
                        "description": "Tačan osnovni tiker (simbol) instrumenta na koji se opcija odnosi",
                        "name": "ticker",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista opcija za dati tiker",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "object",
                                            "properties": {
                                                "details": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/definitions/types.Option"
                                                    }
                                                },
                                                "listing": {
                                                    "type": "array",
                                                    "items": {
                                                        "$ref": "#/definitions/types.Listing"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "Opcije sa datim tikerom nisu pronađene",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Interna greška servera pri preuzimanju detalja opcije",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/orders": {
            "get": {
                "description": "Vraća listu naloga, opciono filtriranu po statusu.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Orders"
                ],
                "summary": "Preuzimanje liste naloga",
                "parameters": [
                    {
                        "type": "string",
                        "default": "all",
                        "example": "pending",
                        "description": "Status naloga za filtriranje. Podrazumevano 'all' za sve statuse.",
                        "name": "filter_status",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno preuzeta lista naloga",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/types.OrderResponse"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Greška pri preuzimanju naloga iz baze",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Kreira novi nalog za hartije od vrednosti.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Orders"
                ],
                "summary": "Kreiranje novog naloga",
                "parameters": [
                    {
                        "description": "Podaci neophodni za kreiranje naloga",
                        "name": "orderRequest",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/types.CreateOrderRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Uspešno kreiran nalog, vraća ID novog naloga",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "integer"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Neispravan format, neuspela validacija ili greška pri upisu u bazu",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "403": {
                        "description": "Nije dozvoljeno kreirati nalog za drugog korisnika",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/orders/paged": {
            "get": {
                "description": "Vraća stranicu naloga sa zadatim brojem po stranici i opcionim filtriranjem po statusu.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Orders"
                ],
                "summary": "Preuzimanje paginiranih naloga",
                "parameters": [
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "Broj stranice (počinje od 1)",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 20,
                        "description": "Broj naloga po stranici",
                        "name": "size",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "example": "pending",
                        "description": "Status naloga za filtriranje",
                        "name": "filter_status",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno preuzeta stranica naloga",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/controllers.PaginatedOrders"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Greška pri preuzimanju naloga iz baze",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/orders/{id}": {
            "get": {
                "description": "Vraća detalje specifičnog naloga na osnovu njegovog jedinstvenog identifikatora (ID).",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Orders"
                ],
                "summary": "Preuzimanje naloga po ID-u",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID naloga koji se preuzima",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno preuzet nalog",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/types.OrderResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Nevalidan ID naloga",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "404": {
                        "description": "Nalog sa datim ID-jem ne postoji",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/orders/{id}/approve": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Menja status naloga u 'approved'.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Orders"
                ],
                "summary": "Odobravanje naloga",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID naloga koji se odobrava",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Nalog uspešno odobren",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "integer"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Nevalidan ID ili nalog nije u 'pending' statusu",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "403": {
                        "description": "Nedovoljne privilegije",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "404": {
                        "description": "Nalog sa datim ID-jem ne postoji",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Interna Greška Servera",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/orders/{id}/cancel": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    },
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Menja status naloga u 'cancelled' ukoliko još nije izvršen.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Orders"
                ],
                "summary": "Otkazivanje naloga",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID naloga koji se otkazuje",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Nalog uspešno otkazan",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Nevalidan ID ili nalog je već završen",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "403": {
                        "description": "Nedovoljne privilegije (ne može se otkazati tuđi nalog)",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "404": {
                        "description": "Nalog sa datim ID-jem ne postoji",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Greška prilikom otkazivanja naloga",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/orders/{id}/decline": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Menja status naloga u 'declined'.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Orders"
                ],
                "summary": "Odbijanje naloga",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID naloga koji se odbija",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Nalog uspešno odbijen, vraća ID naloga",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "integer"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Nevalidan ID ili nalog nije u 'pending' statusu",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "403": {
                        "description": "Nedovoljne privilegije",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "404": {
                        "description": "Nalog sa datim ID-jem ne postoji",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Interna Greška Servera",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/profit/{id}": {
            "get": {
                "description": "Računa ukupni ostvareni profit korisnika na osnovu izvršenih transakcija (FIFO).",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Orders"
                ],
                "summary": "Obračun realizovanog profita",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "ID korisnika za kog se računa profit",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešno vraćen obračun profita",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/dto.RealizedProfitResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Nevalidan ID korisnika",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "404": {
                        "description": "Korisnik nema transakcija, nije moguće izračunati profit",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Greška prilikom obračuna profita",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/securities": {
            "get": {
                "description": "Vraća listu svih dostupnih hartija od vrednosti.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Securities"
                ],
                "summary": "Preuzimanje svih hartija od vrednosti (Alias)",
                "responses": {
                    "200": {
                        "description": "Lista svih hartija od vrednosti",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/types.Security"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Interna greška servera pri preuzimanju ili konverziji hartija od vrednosti",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/securities/available": {
            "get": {
                "description": "Vraća listu svih hartija od vrednosti koje su trenutno dostupne na tržištu.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Securities"
                ],
                "summary": "Dohvatanje svih dostupnih hartija",
                "responses": {
                    "200": {
                        "description": "Lista dostupnih hartija od vrednosti",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/types.Security"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Greška pri dohvatanju podataka iz baze",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/securities/{id}": {
            "get": {
                "description": "Vraća listu svih hartija od vrednosti koje poseduje korisnik sa specificiranim ID-jem, zajedno sa količinom, kupovnom cenom i trenutnim profitom/gubitkom za svaku.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Securities"
                ],
                "summary": "Dohvatanje svih hartija od vrednosti za korisnika",
                "parameters": [
                    {
                        "type": "string",
                        "example": "123",
                        "description": "ID korisnika čije hartije od vrednosti treba dohvatiti",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista hartija od vrednosti u vlasništvu korisnika",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/dto.PortfolioSecurityDTO"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "ID korisnika nije prosleđen u putanji",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Greška pri dohvatanju podataka iz baze",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/securities/{id}/public-count": {
            "put": {
                "description": "Menja broj hartija koje su označene kao javne u portfoliju korisnika.",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Portfolio"
                ],
                "summary": "Ažuriranje broja javno oglašenih hartija",
                "parameters": [
                    {
                        "type": "integer",
                        "description": "User ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Podaci za ažuriranje",
                        "name": "body",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/controllers.UpdatePublicCountRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uspešna izmena",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "string"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Nedostaje user ID ili telo nije ispravno",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Greška pri ažuriranju",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/stocks": {
            "get": {
                "description": "Vraća listu svih listinga koji predstavljaju akcije.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Stocks"
                ],
                "summary": "Preuzimanje svih akcija",
                "responses": {
                    "200": {
                        "description": "Lista svih akcija",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/types.Listing"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "500": {
                        "description": "Interna greška servera pri preuzimanju akcija",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/stocks/{ticker}": {
            "get": {
                "description": "Vraća osnovne podatke (Listing) i detalje (Stock) za akciju specificiranu tikerom.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Stocks"
                ],
                "summary": "Preuzimanje akcije po tikeru",
                "parameters": [
                    {
                        "type": "string",
                        "example": "AAPL",
                        "description": "Tiker (simbol) akcije",
                        "name": "ticker",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detalji akcije",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "object",
                                            "properties": {
                                                "details": {
                                                    "$ref": "#/definitions/types.Stock"
                                                },
                                                "listing": {
                                                    "$ref": "#/definitions/types.Listing"
                                                }
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "404": {
                        "description": "Akcija sa datim tikerom nije pronađena",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Interna greška servera pri preuzimanju detalja akcije",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/stocks/{ticker}/history": {
            "get": {
                "description": "Preuzima dnevne istorijske podatke za akciju u vremenskom opsegu.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Stocks"
                ],
                "summary": "Istorijski podaci za akciju u vremenskom opsegu",
                "parameters": [
                    {
                        "type": "string",
                        "example": "AAPL",
                        "description": "Tiker (simbol) akcije",
                        "name": "ticker",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "format": "date",
                        "example": "2023-09-27",
                        "description": "Početni datum (YYYY-MM-DD). Podrazumevano pre 30 dana.",
                        "name": "startDate",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "format": "date",
                        "example": "2023-10-27",
                        "description": "Krajnji datum (YYYY-MM-DD). Podrazumevano današnji dan.",
                        "name": "endDate",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista istorijskih podataka",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/types.ListingDailyPriceInfo"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Neispravan format datuma",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "404": {
                        "description": "Akcija sa datim tikerom nije pronađena",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Greška pri preuzimanju istorijskih podataka iz baze",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/stocks/{ticker}/history/first": {
            "get": {
                "description": "Preuzima najstariji dostupan dnevni istorijski podatak za akciju.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Stocks"
                ],
                "summary": "Prvi istorijski podatak za akciju",
                "parameters": [
                    {
                        "type": "string",
                        "example": "AAPL",
                        "description": "Tiker (simbol) akcije",
                        "name": "ticker",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Najstariji istorijski podatak",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "404": {
                        "description": "Akcija sa datim tikerom nije pronađena",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Greška pri preuzimanju istorijskih podataka",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/stocks/{ticker}/history/{date}": {
            "get": {
                "description": "Preuzima dnevni istorijski podatak za akciju za određeni datum.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Stocks"
                ],
                "summary": "Istorijski podatak za akciju za određeni datum",
                "parameters": [
                    {
                        "type": "string",
                        "example": "AAPL",
                        "description": "Tiker (simbol) akcije",
                        "name": "ticker",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "format": "date",
                        "example": "2023-10-26",
                        "description": "Datum u formatu YYYY-MM-DD",
                        "name": "date",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Istorijski podatak za dati datum",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "400": {
                        "description": "Neispravan format datuma",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "404": {
                        "description": "Akcija sa datim tikerom nije pronađena",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Greška pri preuzimanju istorijskih podataka",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/tax": {
            "get": {
                "description": "Vraća listu najskorijih neplaćenih poreskih obaveza (za poslednji obračunati mesec/godinu) za sve korisnike. Za svakog korisnika proverava i da li je registrovan kao aktuar.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Tax"
                ],
                "summary": "Dohvatanje poslednjeg neplaćenog poreza za sve korisnike",
                "responses": {
                    "200": {
                        "description": "Lista poslednjih neplaćenih poreskih obaveza",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/definitions/types.TaxResponse"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Greška pri izvršavanju upita u bazi (kako je implementirano u kodu)",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Greška pri čitanju rezultata iz baze",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/tax/dashboard/{userID}": {
            "get": {
                "description": "Vraća sumu plaćenog poreza za tekuću godinu i sumu neplaćenog poreza za tekući mesec za specificiranog korisnika.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Tax"
                ],
                "summary": "Dohvatanje agregiranih poreskih podataka za korisnika",
                "parameters": [
                    {
                        "type": "integer",
                        "example": 123,
                        "description": "ID korisnika čiji se podaci traže",
                        "name": "userID",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Agregirani poreski podaci za korisnika",
                        "schema": {
                            "allOf": [
                                {
                                    "$ref": "#/definitions/types.Response"
                                },
                                {
                                    "type": "object",
                                    "properties": {
                                        "data": {
                                            "$ref": "#/definitions/types.AggregatedTaxResponse"
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "400": {
                        "description": "Neispravan ID korisnika (nije validan broj ili \u003c= 0)",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Interna greška servera pri dohvatanju podataka iz baze",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        },
        "/tax/run": {
            "post": {
                "description": "Endpoint namenjen za pokretanje procesa obračuna poreza za korisnike. Trenutno nije implementiran i uvek vraća grešku 500.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Tax"
                ],
                "summary": "Pokretanje obračuna poreza",
                "responses": {
                    "202": {
                        "description": "Zahtev za obračun poreza je primljen",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    },
                    "500": {
                        "description": "Greska",
                        "schema": {
                            "$ref": "#/definitions/types.Response"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "controllers.PaginatedOrders": {
            "type": "object",
            "properties": {
                "orders": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/types.OrderResponse"
                    }
                },
                "totalCount": {
                    "type": "integer"
                }
            }
        },
        "controllers.UpdatePublicCountRequest": {
            "type": "object",
            "properties": {
                "portfolio_id": {
                    "type": "integer"
                },
                "public": {
                    "type": "integer"
                }
            }
        },
        "dto.ActuaryDTO": {
            "type": "object",
            "required": [
                "department",
                "userID"
            ],
            "properties": {
                "department": {
                    "type": "string",
                    "enum": [
                        "supervisor",
                        "agent"
                    ]
                },
                "limitAmount": {
                    "type": "number"
                },
                "needApproval": {
                    "type": "boolean"
                },
                "usedLimit": {
                    "type": "number"
                },
                "userID": {
                    "type": "integer"
                }
            }
        },
        "dto.FilteredActuaryDTO": {
            "type": "object",
            "properties": {
                "department": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "firstName": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "lastName": {
                    "type": "string"
                },
                "limitAmount": {
                    "type": "number"
                },
                "needApproval": {
                    "type": "boolean"
                },
                "position": {
                    "type": "string"
                },
                "usedLimit": {
                    "type": "number"
                }
            }
        },
        "dto.PortfolioSecurityDTO": {
            "type": "object",
            "properties": {
                "amount": {
                    "type": "integer"
                },
                "last_modified": {
                    "type": "integer"
                },
                "portfolio_id": {
                    "type": "integer"
                },
                "price": {
                    "type": "number"
                },
                "profit": {
                    "type": "number"
                },
                "public": {
                    "type": "integer"
                },
                "securityId": {
                    "type": "integer"
                },
                "symbol": {
                    "type": "string"
                },
                "ticker": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "dto.RealizedProfitResponse": {
            "type": "object",
            "properties": {
                "per_security": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dto.SecurityProfit"
                    }
                },
                "total_profit": {
                    "type": "number"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "dto.SecurityProfit": {
            "type": "object",
            "properties": {
                "profit": {
                    "type": "number"
                },
                "security_id": {
                    "type": "integer"
                },
                "ticker": {
                    "type": "string"
                }
            }
        },
        "dto.UpdateActuaryDTO": {
            "type": "object",
            "properties": {
                "limit": {
                    "type": "string"
                },
                "reset": {
                    "type": "boolean"
                }
            }
        },
        "types.Actuary": {
            "type": "object",
            "properties": {
                "department": {
                    "type": "string"
                },
                "email": {
                    "type": "string"
                },
                "fullName": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "limit": {
                    "description": "Samo za agente",
                    "type": "number"
                },
                "needApproval": {
                    "description": "Da li orderi agenta trebaju supervizorsko odobrenje",
                    "type": "boolean"
                },
                "position": {
                    "type": "string"
                },
                "usedLimit": {
                    "description": "Samo za agente, resetuje se dnevno",
                    "type": "number"
                },
                "userId": {
                    "type": "integer"
                }
            }
        },
        "types.AggregatedTaxResponse": {
            "type": "object",
            "properties": {
                "is_actuary": {
                    "type": "boolean"
                },
                "paid_this_year": {
                    "type": "number"
                },
                "unpaid_this_month": {
                    "type": "number"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "types.CreateOrderRequest": {
            "type": "object",
            "required": [
                "account_id",
                "contract_size",
                "direction",
                "quantity",
                "security_id",
                "user_id"
            ],
            "properties": {
                "account_id": {
                    "type": "integer"
                },
                "aon": {
                    "type": "boolean"
                },
                "contract_size": {
                    "type": "integer"
                },
                "direction": {
                    "type": "string"
                },
                "limit_price_per_unit": {
                    "type": "number"
                },
                "margin": {
                    "type": "boolean"
                },
                "quantity": {
                    "type": "integer"
                },
                "security_id": {
                    "type": "integer"
                },
                "stop_price_per_unit": {
                    "type": "number"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "types.Exchange": {
            "type": "object",
            "properties": {
                "acronym": {
                    "type": "string"
                },
                "close_time": {
                    "type": "string"
                },
                "country": {
                    "type": "string"
                },
                "currency": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "mic_code": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "open_time": {
                    "type": "string"
                },
                "timezone": {
                    "type": "string"
                }
            }
        },
        "types.ForexPair": {
            "type": "object",
            "properties": {
                "base_currency": {
                    "type": "string"
                },
                "exchange_rate": {
                    "type": "number"
                },
                "id": {
                    "type": "integer"
                },
                "liquidity": {
                    "description": "\"High\", \"Medium\", \"Low\"",
                    "type": "string"
                },
                "listing": {
                    "$ref": "#/definitions/types.Listing"
                },
                "listing_id": {
                    "type": "integer"
                },
                "quote_currency": {
                    "type": "string"
                }
            }
        },
        "types.FuturesContract": {
            "type": "object",
            "properties": {
                "contract_size": {
                    "type": "integer"
                },
                "contract_unit": {
                    "description": "\"Barrel\", \"Kilogram\", \"Liter\"",
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "listing": {
                    "$ref": "#/definitions/types.Listing"
                },
                "listing_id": {
                    "type": "integer"
                },
                "settlement_date": {
                    "type": "string"
                }
            }
        },
        "types.Listing": {
            "type": "object",
            "properties": {
                "Subtype": {
                    "description": "\"ETF\", \"Common Stock\", \"Call Option\", \"Put Option\"",
                    "type": "string"
                },
                "ask": {
                    "type": "number"
                },
                "bid": {
                    "type": "number"
                },
                "contract_size": {
                    "type": "integer"
                },
                "created_at": {
                    "type": "string"
                },
                "exchange": {
                    "$ref": "#/definitions/types.Exchange"
                },
                "exchange_id": {
                    "type": "integer"
                },
                "id": {
                    "type": "integer"
                },
                "lastPrice": {
                    "type": "number"
                },
                "last_refresh": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "ticker": {
                    "type": "string"
                },
                "type": {
                    "description": "\"Stock\", \"Forex\", \"Future\", \"Option\"",
                    "type": "string"
                },
                "updated_at": {
                    "type": "string"
                }
            }
        },
        "types.ListingDailyPriceInfo": {
            "type": "object",
            "properties": {
                "availableQuantity": {
                    "type": "integer"
                },
                "change": {
                    "type": "number"
                },
                "date": {
                    "type": "string"
                },
                "high": {
                    "type": "number"
                },
                "id": {
                    "type": "integer"
                },
                "listing": {
                    "$ref": "#/definitions/types.Listing"
                },
                "listing_id": {
                    "type": "integer"
                },
                "low": {
                    "type": "number"
                },
                "price": {
                    "type": "number"
                }
            }
        },
        "types.ListingHistory": {
            "type": "object",
            "properties": {
                "ask": {
                    "type": "number"
                },
                "bid": {
                    "type": "number"
                },
                "contractSize": {
                    "type": "integer"
                },
                "createdAt": {
                    "type": "string"
                },
                "exchange": {
                    "$ref": "#/definitions/types.Exchange"
                },
                "exchangeID": {
                    "type": "integer"
                },
                "id": {
                    "type": "integer"
                },
                "lastRefresh": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "price": {
                    "type": "number"
                },
                "snapshotDate": {
                    "description": "za koji dan je snapshot",
                    "type": "string"
                },
                "subtype": {
                    "type": "string"
                },
                "ticker": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            }
        },
        "types.Option": {
            "type": "object",
            "properties": {
                "contractSize": {
                    "type": "integer"
                },
                "createdAt": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "impliedVol": {
                    "type": "number"
                },
                "listingID": {
                    "type": "integer"
                },
                "openInterest": {
                    "type": "integer"
                },
                "optionType": {
                    "description": "\"Call\" or \"Put\"",
                    "type": "string"
                },
                "settlementDate": {
                    "type": "string"
                },
                "strikePrice": {
                    "type": "number"
                },
                "updatedAt": {
                    "type": "string"
                }
            }
        },
        "types.OrderResponse": {
            "type": "object",
            "properties": {
                "account_id": {
                    "type": "integer"
                },
                "after_hours": {
                    "type": "boolean"
                },
                "aon": {
                    "type": "boolean"
                },
                "approved_by": {
                    "description": "Supervizor koji je odobrio order",
                    "type": "integer"
                },
                "contract_size": {
                    "type": "integer"
                },
                "direction": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "is_done": {
                    "type": "boolean"
                },
                "last_modified": {
                    "type": "integer"
                },
                "limit_price_per_unit": {
                    "type": "number"
                },
                "margin": {
                    "type": "boolean"
                },
                "quantity": {
                    "type": "integer"
                },
                "remaining_parts": {
                    "type": "integer"
                },
                "security_id": {
                    "type": "integer"
                },
                "status": {
                    "type": "string"
                },
                "stop_price_per_unit": {
                    "type": "number"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        },
        "types.Response": {
            "type": "object",
            "properties": {
                "data": {},
                "error": {
                    "type": "string"
                },
                "success": {
                    "type": "boolean"
                }
            }
        },
        "types.Security": {
            "type": "object",
            "properties": {
                "ask": {
                    "type": "number"
                },
                "availableQuantity": {
                    "type": "integer"
                },
                "bid": {
                    "type": "number"
                },
                "contractSize": {
                    "type": "integer"
                },
                "exchange": {
                    "type": "string"
                },
                "id": {
                    "type": "integer"
                },
                "lastPrice": {
                    "type": "number"
                },
                "name": {
                    "type": "string"
                },
                "optionType": {
                    "type": "string"
                },
                "previousClose": {
                    "type": "number"
                },
                "settlementDate": {
                    "description": "Samo za futures i opcije",
                    "type": "string"
                },
                "strikePrice": {
                    "type": "number"
                },
                "ticker": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                },
                "userId": {
                    "type": "integer"
                }
            }
        },
        "types.Stock": {
            "type": "object",
            "properties": {
                "dividend_yield": {
                    "type": "number"
                },
                "id": {
                    "type": "integer"
                },
                "listing": {
                    "$ref": "#/definitions/types.Listing"
                },
                "listing_id": {
                    "type": "integer"
                },
                "outstanding_shares": {
                    "type": "integer"
                }
            }
        },
        "types.TaxResponse": {
            "type": "object",
            "properties": {
                "is_actuary": {
                    "type": "boolean"
                },
                "is_paid": {
                    "type": "boolean"
                },
                "tax_amount": {
                    "type": "number"
                },
                "taxable_profit": {
                    "type": "number"
                },
                "user_id": {
                    "type": "integer"
                }
            }
        }
    },
    "securityDefinitions": {
        "BearerAuth": {
            "description": "Unesite token. Primer: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}